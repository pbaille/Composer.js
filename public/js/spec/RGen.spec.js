// Generated by CoffeeScript 1.6.3
(function() {
  define(["lib/core/RGen", "lib/core/RVal", "lib/core/Position"], function() {
    var Position, RGen, RVal, Rational, rg;
    RGen = AC.Core.RGen;
    RVal = AC.Core.RVal;
    Rational = AC.Utils.Rational;
    Position = AC.Core.Position;
    rg = {};
    return describe("RGen class", function() {
      it("initialize", function() {
        timeline.tracks[0].composer.rgen = new RGen({
          prob_array: [
            {
              rval: new RVal(1, 6),
              occ: 1
            }, {
              rval: new RVal(1, 8),
              occ: 1
            }
          ]
        });
        rg = timeline.tracks[0].composer.rgen;
        rg.composer = timeline.tracks[0].composer;
        return expect(rg).toBeTruthy();
      });
      return describe("available vals", function() {
        it("with tl_pos at start", function() {
          timeline.position = new Position({
            cycle: 0,
            bar: 0,
            sub: new RVal(0)
          });
          return expect(rg.available_vals()).toEqual([
            {
              rval: new RVal(1, 6),
              occ: 1
            }, {
              rval: new RVal(1, 8),
              occ: 1
            }
          ]);
        });
        it("with tl_pos at 1/2", function() {
          timeline.position = new Position({
            cycle: 0,
            bar: 0,
            sub: new RVal(1, 2)
          });
          return expect(rg.available_vals()).toEqual([
            {
              rval: new RVal(1, 6),
              occ: 1
            }, {
              rval: new RVal(1, 8),
              occ: 1
            }
          ]);
        });
        return it("with tl_pos at 1/3", function() {
          timeline.position = new Position({
            cycle: 0,
            bar: 0,
            sub: new RVal(1, 3)
          });
          return expect(rg.available_vals()).toEqual([
            {
              rval: new RVal(1, 6),
              occ: 1
            }
          ]);
        });
      });
    });
  });

}).call(this);
