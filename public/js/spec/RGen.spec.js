// Generated by CoffeeScript 1.6.3
(function() {
  define(["lib/core/RGen", "lib/core/RVal"], function() {
    var RGen2, RVal, Rational;
    RGen2 = AC.Core.RGen2;
    RVal = AC.Core.RVal;
    Rational = AC.Utils.Rational;
    return describe("RGen2 class", function() {
      it("initialize", function() {
        window.rg = new RGen2({
          prob_array: [
            {
              rval: new RVal(1, 2),
              occ: 1
            }, {
              rval: new RVal(1, 4),
              occ: 2
            }, {
              rval: new RVal(1, 3),
              occ: 1
            }
          ],
          advance: new Rational(1)
        });
        return expect(rg).toBeTruthy();
      });
      return describe("available vals", function() {
        it("with tl_pos at start", function() {
          rg.timeline.position = {
            cycle: 0,
            bar: 0,
            sub: new RVal(0)
          };
          return expect(rg.available_vals()).toEqual([
            {
              rval: new RVal(1, 2),
              occ: 1
            }, {
              rval: new RVal(1, 4),
              occ: 2
            }, {
              rval: new RVal(1, 3),
              occ: 1
            }
          ]);
        });
        it("with tl_pos at 1/2", function() {
          rg.timeline.position = {
            cycle: 0,
            bar: 0,
            sub: new RVal(1, 2)
          };
          return expect(rg.available_vals()).toEqual([
            {
              rval: new RVal(1, 2),
              occ: 1
            }, {
              rval: new RVal(1, 4),
              occ: 2
            }
          ]);
        });
        return it("with tl_pos at 1/3", function() {
          rg.timeline.position = {
            cycle: 0,
            bar: 0,
            sub: new RVal(1, 3)
          };
          return expect(rg.available_vals()).toEqual([
            {
              rval: new RVal(1, 3),
              occ: 1
            }
          ]);
        });
      });
    });
  });

}).call(this);
