// Generated by CoffeeScript 1.6.3
(function() {
  var __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  define(["lib/utils/Rational", "lib/utils/Utils", "vendors/ruby"], function() {
    var root;
    if (typeof global !== "undefined" && global !== null) {
      root = global.AC.Core;
    } else {
      root = window.AC.Core;
    }
    return root.RVal = (function(_super) {
      __extends(RVal, _super);

      function RVal(num, den) {
        RVal.__super__.constructor.call(this, num, den);
      }

      RVal.prototype.to_ms = function(bpm) {
        return this.times(new AC.Utils.Rational(60, bpm)).toFloat() * 1000;
      };

      RVal.prototype.polyrythmic_base = function() {
        return _a.last(AC.Utils.factorise(this.denom));
      };

      RVal.prototype.binary_base = function() {
        var pb;
        pb = this.polyrythmic_base();
        if (pb === 2) {
          return pb;
        } else {
          return this.denom / pb;
        }
      };

      return RVal;

    })(AC.Utils.Rational);
  });

}).call(this);
